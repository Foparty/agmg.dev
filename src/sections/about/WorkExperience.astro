---
import { getLangFromUrl, useTranslations } from 'src/i18n/utils';

type WorkExperience = {
	date: string;
	title: string;
};

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<h3>{t('workExperienceTitle')}</h3>

<div class='experiences'>
	{
		(t('workExperience') as WorkExperience[]).map((item) => (
			<div class='experience'>
				<span class='date'>{item.date}</span>
				<span class='role'>{item.title}</span>
			</div>
		))
	}
</div>

<style>
	h3 {
		font-size: 0.9rem;
		font-weight: 600;
	}

	.experiences {
		padding: 2rem 0;
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
		text-wrap: pretty;
	}

	.experience {
		width: 100%;
		display: grid;
		gap: 1.5rem;
		grid-template-columns: 7rem auto;
		font-size: clamp(0.8rem, 1vw + 0.5rem, 1rem);
	}
	.date {
		color: #888;
	}
	.role {
		color: #eee;
	}
</style>
